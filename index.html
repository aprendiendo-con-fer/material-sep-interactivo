<style>body { box-sizing: border-box; }</style>
</head>
<body class="h-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 overflow-auto">
  <div id="app" class="h-full w-full">
   <!-- Login Screen -->
  <div id="app" class="h-full w-full"><!-- Login Screen -->
<div id="loginScreen" class="h-full w-full flex flex-col items-center justify-center p-4">
<div class="text-center mb-8">
<div class="text-6xl mb-4 floating">
â­
</div>
     <h1 id="appTitle" class="text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-pink-500 to-cyan-400 neon-glow mb-2">Material SEP Interactivo</h1>
     <h1 id="appTitle" class="text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-pink-500 to-cyan-400 neon-glow mb-2">EduEstrellas</h1>
<p id="welcomeMsg" class="text-xl text-purple-300 font-semibold">Â¡Aprende y gana estrellas!</p>
</div>
<div class="bg-slate-800/80 rounded-3xl p-8 neon-box w-full max-w-md">
<div class="space-y-4">
      <div>
       <label class="block text-pink-300 font-bold mb-2 text-lg">ğŸ‘¤ Usuario</label> <input type="text" id="loginUsername" placeholder="Tu nombre de usuario" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-purple-500 text-lg font-semibold">
      <div><label class="block text-pink-300 font-bold mb-2 text-lg">ğŸ‘¤ Usuario</label> <input type="text" id="loginUsername" placeholder="Tu nombre de usuario" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-purple-500 text-lg font-semibold">
</div>
      <div>
       <label class="block text-cyan-300 font-bold mb-2 text-lg">ğŸ”’ ContraseÃ±a</label> <input type="password" id="loginPassword" placeholder="Tu contraseÃ±a secreta" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-purple-500 text-lg font-semibold">
      <div><label class="block text-cyan-300 font-bold mb-2 text-lg">ğŸ”’ ContraseÃ±a</label> <input type="password" id="loginPassword" placeholder="Tu contraseÃ±a secreta" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-purple-500 text-lg font-semibold">
</div>
<p id="loginError" class="text-red-400 text-center font-semibold hidden"></p><button onclick="handleLogin()" class="w-full py-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-2xl text-white font-black text-xl neon-pink hover:scale-105 transition-transform"> ğŸš€ Â¡ENTRAR! </button> <button onclick="showRegister()" class="w-full py-3 bg-gradient-to-r from-cyan-500 to-green-500 rounded-2xl text-white font-bold text-lg neon-green hover:scale-105 transition-transform"> âœ¨ Crear cuenta nueva </button>
</div>
@@ -169,48 +166,37 @@ <h2 class="text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r fr
</div>
<div class="bg-slate-800/80 rounded-3xl p-6 neon-box w-full max-w-md">
<div class="space-y-4">
      <div>
       <label class="block text-green-300 font-bold mb-2">ğŸ‘¤ Elige tu usuario</label> <input type="text" id="regUsername" placeholder="Ejemplo: estrella123" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-green-500 font-semibold">
      <div><label class="block text-green-300 font-bold mb-2">ğŸ‘¤ Elige tu usuario</label> <input type="text" id="regUsername" placeholder="Ejemplo: estrella123" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-green-500 font-semibold">
</div>
      <div>
       <label class="block text-cyan-300 font-bold mb-2">ğŸ”’ Crea tu contraseÃ±a</label> <input type="password" id="regPassword" placeholder="MÃ­nimo 4 caracteres" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-cyan-500 font-semibold">
      <div><label class="block text-cyan-300 font-bold mb-2">ğŸ”’ Crea tu contraseÃ±a</label> <input type="password" id="regPassword" placeholder="MÃ­nimo 4 caracteres" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-cyan-500 font-semibold">
</div>
      <div>
       <label class="block text-purple-300 font-bold mb-2">ğŸ“š Selecciona tu grado</label> <select id="regGrade" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-purple-500 font-semibold"> <option value="">-- Elige tu grado --</option> <option value="1ro">1er grado ğŸŒ±</option> <option value="2do">2do grado ğŸ“š</option> <option value="3ro">3er grado âœï¸</option> <option value="4to">4to grado ğŸ“–</option> <option value="5to">5to grado ğŸ“</option> <option value="6to">6to grado â­</option> </select>
      <div><label class="block text-purple-300 font-bold mb-2">ğŸ“š Selecciona tu grado</label> <select id="regGrade" class="w-full px-4 py-3 rounded-2xl bg-slate-700 text-white border-2 border-purple-500 font-semibold"> <option value="">-- Elige tu grado --</option> <option value="1ro">1er grado ğŸŒ±</option> <option value="2do">2do grado ğŸ“š</option> <option value="3ro">3er grado âœï¸</option> <option value="4to">4to grado ğŸ“–</option> <option value="5to">5to grado ğŸ“</option> <option value="6to">6to grado â­</option> </select>
</div>
<p id="regError" class="text-red-400 text-center font-semibold hidden"></p><button onclick="handleRegister()" class="w-full py-4 bg-gradient-to-r from-green-500 to-cyan-500 rounded-2xl text-white font-black text-xl neon-green hover:scale-105 transition-transform"> âœ… Â¡CREAR CUENTA! </button> <button onclick="showLogin()" class="w-full py-3 bg-slate-600 rounded-2xl text-white font-bold hover:bg-slate-500 transition-colors"> â† Volver al inicio </button>
</div>
</div>
</div><!-- Main Dashboard -->
   <div id="mainDashboard" class="h-full w-full hidden flex-col overflow-auto">
    <!-- Top Bar -->
   <div id="mainDashboard" class="h-full w-full hidden flex-col overflow-auto"><!-- Top Bar -->
<div class="bg-slate-800/90 p-3 flex flex-wrap items-center justify-between gap-2 sticky top-0 z-50">
     <div class="flex items-center gap-2">
      <span class="text-2xl">ğŸ‘‹</span> <span id="playerName" class="text-white font-bold text-lg"></span> <span id="playerGrade" class="text-purple-300 font-semibold text-sm ml-2"></span>
     <div class="flex items-center gap-2"><span class="text-2xl">ğŸ‘‹</span> <span id="playerName" class="text-white font-bold text-lg"></span> <span id="playerGrade" class="text-purple-300 font-semibold text-sm ml-2"></span>
</div>
<div class="flex flex-wrap gap-2">
      <div class="bg-yellow-500/20 px-3 py-1 rounded-full flex items-center gap-1 neon-yellow">
       <span class="text-xl">â­</span> <span id="starsDisplay" class="text-yellow-300 font-black">0</span>
      <div class="bg-yellow-500/20 px-3 py-1 rounded-full flex items-center gap-1 neon-yellow"><span class="text-xl">â­</span> <span id="starsDisplay" class="text-yellow-300 font-black">0</span>
</div>
      <div class="bg-amber-500/20 px-3 py-1 rounded-full flex items-center gap-1">
       <span class="text-xl">ğŸª™</span> <span id="coinsDisplay" class="text-amber-300 font-black">0</span>
      <div class="bg-amber-500/20 px-3 py-1 rounded-full flex items-center gap-1"><span class="text-xl">ğŸª™</span> <span id="coinsDisplay" class="text-amber-300 font-black">0</span>
</div>
      <div class="bg-purple-500/20 px-3 py-1 rounded-full flex items-center gap-1">
       <span class="text-xl">ğŸ”‘</span> <span id="keysDisplay" class="text-purple-300 font-black">0</span>
      <div class="bg-purple-500/20 px-3 py-1 rounded-full flex items-center gap-1"><span class="text-xl">ğŸ”‘</span> <span id="keysDisplay" class="text-purple-300 font-black">0</span>
</div>
      <div class="bg-red-500/20 px-3 py-1 rounded-full flex items-center gap-1">
       <span class="text-xl">â¤ï¸</span> <span id="livesDisplay" class="text-red-300 font-black">5</span>
      <div class="bg-red-500/20 px-3 py-1 rounded-full flex items-center gap-1"><span class="text-xl">â¤ï¸</span> <span id="livesDisplay" class="text-red-300 font-black">5</span>
</div>
</div><button onclick="handleLogout()" class="bg-slate-600 px-3 py-1 rounded-full text-white text-sm hover:bg-slate-500"> Salir </button>
</div><!-- Level & XP Bar -->
<div class="bg-slate-800/50 px-4 py-2">
<div class="flex items-center gap-3">
      <div class="bg-gradient-to-r from-purple-600 to-pink-600 w-12 h-12 rounded-full flex items-center justify-center neon-pink">
       <span id="levelDisplay" class="text-white font-black text-xl">1</span>
      <div class="bg-gradient-to-r from-purple-600 to-pink-600 w-12 h-12 rounded-full flex items-center justify-center neon-pink"><span id="levelDisplay" class="text-white font-black text-xl">1</span>
</div>
<div class="flex-1">
       <div class="flex justify-between text-sm mb-1">
        <span class="text-purple-300 font-semibold">Nivel <span id="levelText">1</span></span> <span class="text-pink-300 font-semibold"><span id="xpCurrent">0</span>/<span id="xpNeeded">100</span> XP</span>
       <div class="flex justify-between text-sm mb-1"><span class="text-purple-300 font-semibold">Nivel <span id="levelText">1</span></span> <span class="text-pink-300 font-semibold"><span id="xpCurrent">0</span>/<span id="xpNeeded">100</span> XP</span>
</div>
<div class="h-3 bg-slate-700 rounded-full overflow-hidden">
<div id="xpBar" class="h-full progress-bar rounded-full" style="width: 0%"></div>
@@ -220,8 +206,7 @@ <h2 class="text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r fr
</div><!-- Daily Streak -->
<div class="mx-4 mt-3 bg-gradient-to-r from-orange-600/30 to-red-600/30 rounded-2xl p-4 border-2 border-orange-500">
<div class="flex items-center justify-between">
      <div class="flex items-center gap-2">
       <span class="text-3xl streak-fire">ğŸ”¥</span>
      <div class="flex items-center gap-2"><span class="text-3xl streak-fire">ğŸ”¥</span>
<div>
<p class="text-orange-300 font-bold text-lg">Racha diaria</p>
<p class="text-white font-black text-2xl"><span id="streakDisplay">0</span> dÃ­as</p>
@@ -236,8 +221,7 @@ <h2 class="text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r fr
<div class="mx-4 mt-4 bg-slate-800/70 rounded-2xl p-4 neon-box">
<div class="flex items-center justify-between mb-3">
<h3 class="text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-green-400">ğŸ“‹ Misiones del DÃ­a</h3>
      <div class="text-sm bg-green-500/20 px-3 py-1 rounded-full">
       <span id="tasksCompleted">0</span>/5
      <div class="text-sm bg-green-500/20 px-3 py-1 rounded-full"><span id="tasksCompleted">0</span>/5
</div>
</div>
<div id="dailyTasksList" class="space-y-2"></div>
@@ -254,27 +238,23 @@ <h3 class="text-xl font-black text-transparent bg-clip-text bg-gradient-to-r fro
<h3 class="text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-pink-400 mb-4 text-center">ğŸ® Â¡ELIGE TU JUEGO!</h3>
<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3" id="gamesGrid"></div>
</div><!-- Shop Button -->
    <div class="mx-4 mb-4">
     <button onclick="showShop()" class="w-full py-4 bg-gradient-to-r from-amber-500 to-orange-600 rounded-2xl text-white font-black text-xl neon-yellow hover:scale-105 transition-transform"> ğŸ›’ TIENDA - Compra vidas y mÃ¡s </button>
    <div class="mx-4 mb-4"><button onclick="showShop()" class="w-full py-4 bg-gradient-to-r from-amber-500 to-orange-600 rounded-2xl text-white font-black text-xl neon-yellow hover:scale-105 transition-transform"> ğŸ›’ TIENDA - Compra vidas y mÃ¡s </button>
</div>
</div><!-- Game Screen -->
<div id="gameScreen" class="h-full w-full hidden flex-col overflow-auto">
    <div class="bg-slate-800/90 p-3 flex items-center justify-between sticky top-0 z-50">
     <button onclick="exitGame()" class="bg-red-500 px-4 py-2 rounded-xl text-white font-bold hover:bg-red-600"> â† Salir </button>
    <div class="bg-slate-800/90 p-3 flex items-center justify-between sticky top-0 z-50"><button onclick="exitGame()" class="bg-red-500 px-4 py-2 rounded-xl text-white font-bold hover:bg-red-600"> â† Salir </button>
<div id="gameTimer" class="text-2xl font-black text-cyan-400">
â±ï¸ 60
</div>
     <div class="flex gap-2">
      <span class="text-xl">â¤ï¸</span> <span id="gameLives" class="text-red-300 font-black">5</span>
     <div class="flex gap-2"><span class="text-xl">â¤ï¸</span> <span id="gameLives" class="text-red-300 font-black">5</span>
</div>
</div>
<div class="flex-1 p-4">
<div id="gameTitle" class="text-2xl font-black text-center text-white mb-4"></div>
<div id="gameContent" class="bg-slate-800/70 rounded-2xl p-6 neon-box"></div>
</div>
<div class="bg-slate-800/90 p-4">
     <div class="flex justify-between items-center">
      <span class="text-green-400 font-bold">âœ… Correctas: <span id="correctCount">0</span></span> <span class="text-red-400 font-bold">âŒ Errores: <span id="wrongCount">0</span></span>
     <div class="flex justify-between items-center"><span class="text-green-400 font-bold">âœ… Correctas: <span id="correctCount">0</span></span> <span class="text-red-400 font-bold">âŒ Errores: <span id="wrongCount">0</span></span>
</div>
</div>
</div><!-- Shop Modal -->
@@ -383,8 +363,9 @@ <h2 class="text-3xl font-black text-white mb-2">Â¡JUEGO COMPLETADO!</h2>
</div>
</div>
<script>
    // Config and State
const defaultConfig = {
      app_title: 'Material SEP Interactivo',
      app_title: 'EduEstrellas',
welcome_message: 'Â¡Aprende y gana estrellas!'
};

@@ -400,6 +381,7 @@ <h2 class="text-3xl font-black text-white mb-2">Â¡JUEGO COMPLETADO!</h2>
currentQuestion: 0
};

    // Daily Tasks Definition
const dailyTasksTemplate = [
{ id: 'alphabet', name: 'Resuelve el juego de AlfabetizaciÃ³n', icon: 'ğŸ“š', subject: 'espaÃ±ol' },
{ id: 'math', name: 'Completa un juego de MatemÃ¡ticas', icon: 'ğŸ”¢', subject: 'matematicas' },
@@ -408,12 +390,14 @@ <h2 class="text-3xl font-black text-white mb-2">Â¡JUEGO COMPLETADO!</h2>
{ id: 'any_game', name: 'Juega cualquier juego', icon: 'ğŸ®', subject: 'any' }
];

    // Weekly Tasks
const weeklyTasksTemplate = [
{ id: 'play_5', name: 'Juega 5 partidas', icon: 'ğŸ¯', target: 5, type: 'games' },
{ id: 'all_subjects', name: 'Juega todas las materias', icon: 'ğŸ“–', type: 'subjects' },
{ id: 'streak_3', name: 'MantÃ©n racha de 3 dÃ­as', icon: 'ğŸ”¥', target: 3, type: 'streak' }
];

    // Games Data
const games = [
{ id: 'espaÃ±ol', name: 'EspaÃ±ol', icon: 'ğŸ“š', color: 'from-pink-500 to-red-500', subject: 'espaÃ±ol' },
{ id: 'matematicas', name: 'MatemÃ¡ticas', icon: 'ğŸ”¢', color: 'from-blue-500 to-cyan-500', subject: 'matematicas' },
@@ -424,6 +408,7 @@ <h2 class="text-3xl font-black text-white mb-2">Â¡JUEGO COMPLETADO!</h2>
{ id: 'ingles', name: 'InglÃ©s', icon: 'ğŸ‡¬ğŸ‡§', color: 'from-red-500 to-blue-500', subject: 'ingles' }
];

    // Questions Database
const questionsDB = {
espaÃ±ol: [
{ q: 'Â¿CuÃ¡l es el plural de "lÃ¡piz"?', options: ['LÃ¡pizes', 'LÃ¡pices', 'Lapizes', 'Lapices'], correct: 1 },
@@ -497,6 +482,7 @@ <h2 class="text-3xl font-black text-white mb-2">Â¡JUEGO COMPLETADO!</h2>
]
};

    // SDK Initialization
const dataHandler = {
onDataChanged(data) {
allUsers = data;
@@ -510,6 +496,7 @@ <h2 class="text-3xl font-black text-white mb-2">Â¡JUEGO COMPLETADO!</h2>
}
};

    // Initialize SDKs
async function initApp() {
try {
await window.dataSdk.init(dataHandler);
@@ -542,6 +529,7 @@ <h2 class="text-3xl font-black text-white mb-2">Â¡JUEGO COMPLETADO!</h2>
renderGamesGrid();
}

    // Auth Functions
function showLogin() {
document.getElementById('registerScreen').classList.add('hidden');
document.getElementById('registerScreen').classList.remove('flex');
@@ -1167,5 +1155,5 @@ <h3 class="text-xl font-bold text-white mb-6">${q.q}</h3>
// Initialize
initApp();
</script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d30748e339eada4',t:'MTc3MTk1MTc1Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d3070c5618f8bb8',t:'MTc3MTk1MTYwMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/index.html b/index.html
index 3db7019862fadad7f64c580f9073c4eb7c259ca9..dfe9893b996b8f3a1990378f5139ff74ec96a82d 100644
--- a/index.html
+++ b/index.html
@@ -607,50 +607,60 @@
         errorEl.classList.remove('hidden');
         return;
       }
 
       const newUser = {
         id: Date.now().toString(),
         username,
         password,
         grade,
         stars: 10,
         coins: 20,
         keys: 3,
         xp: 0,
         level: 1,
         lives: 5,
         dailyStreak: 0,
         lastLoginDate: '',
         dailyTasksCompleted: '[]',
         weeklyTasksCompleted: '[]',
         gamesPlayed: 0,
         createdAt: new Date().toISOString()
       };
 
       const result = await window.dataSdk.create(newUser);
       if (result.isOk) {
+        const createdUser = result.value || newUser;
+        if (!createdUser.__backendId && result.id) {
+          createdUser.__backendId = result.id;
+        }
+        allUsers = [...allUsers, createdUser];
+
+        document.getElementById('loginUsername').value = username;
+        document.getElementById('loginPassword').value = password;
+        errorEl.classList.add('hidden');
+
         showReward('ðŸŽ‰', 'Â¡Cuenta creada!', 'Ganaste: 10â­ + 20ðŸª™ + 3ðŸ”‘');
         showLogin();
       } else {
         errorEl.textContent = 'Error al crear cuenta';
         errorEl.classList.remove('hidden');
       }
     }
 
     function handleLogout() {
       currentUser = null;
       document.getElementById('mainDashboard').classList.add('hidden');
       document.getElementById('loginScreen').classList.remove('hidden');
       document.getElementById('loginScreen').classList.add('flex');
       document.getElementById('loginUsername').value = '';
       document.getElementById('loginPassword').value = '';
     }
 
     // Daily Login Check
     async function checkDailyLogin() {
       const today = new Date().toDateString();
       const lastLogin = currentUser.lastLoginDate;
       
       if (lastLogin !== today) {
         const yesterday = new Date();
         yesterday.setDate(yesterday.getDate() - 1);
 
EOF
)
